[gd_scene load_steps=19 format=3 uid="uid://bf65u5owfy44w"]

[ext_resource type="Script" uid="uid://dtc6voufn46ha" path="res://src/MainGame/Scripts/final_stage.gd" id="1_7mgjm"]
[ext_resource type="PackedScene" uid="uid://drjqcoul7pinv" path="res://src/Player/Player.tscn" id="2_nkn70"]
[ext_resource type="PackedScene" uid="uid://dqneht6teqyb4" path="res://src/Assets/Boss/singahehe.tscn" id="3_7mgjm"]
[ext_resource type="PackedScene" uid="uid://bgovcye5v3f81" path="res://src/Assets/Boss/hudboss.tscn" id="5_y183w"]
[ext_resource type="PackedScene" uid="uid://c0n53nh7g6swm" path="res://src/Assets/Environment/DungeonBener.glb" id="6_mqvkd"]
[ext_resource type="Script" uid="uid://chiut7eymg84b" path="res://src/Dialog/Scripts/stage_1_timeline_1.gd" id="7_2t6es"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_nkn70"]
sky_top_color = Color(0.7020888, 0.75572693, 0.82756436, 1)
sky_horizon_color = Color(0, 0, 0, 1)
sky_cover_modulate = Color(0, 0, 0, 1)

[sub_resource type="Sky" id="Sky_kyuuh"]
sky_material = SubResource("ProceduralSkyMaterial_nkn70")

[sub_resource type="Environment" id="Environment_7mgjm"]
background_mode = 2
sky = SubResource("Sky_kyuuh")
tonemap_mode = 2
glow_enabled = true
glow_bloom = 0.06
fog_enabled = true
fog_light_color = Color(0, 0, 0, 1)
fog_light_energy = 1.7
fog_sun_scatter = 0.01
fog_density = 0.002
fog_sky_affect = 0.95

[sub_resource type="NavigationMesh" id="NavigationMesh_nkn70"]
vertices = PackedVector3Array(-63.6475, 2.25, -63.739998, -63.6475, 2.25, 64.26, 63.6025, 2.25, 64.26, 63.6025, 2.25, -63.739998)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="BoxShape3D" id="BoxShape3D_mdgyc"]
size = Vector3(17.5, 3.25, 18.75)

[sub_resource type="BoxShape3D" id="BoxShape3D_mqvkd"]
size = Vector3(4.25, 0.5, 18.25)

[sub_resource type="BoxShape3D" id="BoxShape3D_2t6es"]
size = Vector3(31.5, 0.5, 26.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_kr611"]
size = Vector3(2, 7, 26.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_u0t5k"]
size = Vector3(2, 7, 32)

[sub_resource type="BoxShape3D" id="BoxShape3D_e4kum"]
size = Vector3(2, 7, 13.75)

[sub_resource type="BoxShape3D" id="BoxShape3D_td2cg"]
size = Vector3(2, 3.75, 17.75)

[sub_resource type="BoxShape3D" id="BoxShape3D_mtb5p"]
size = Vector3(1, 3.75, 7.75)

[node name="FinalStage" type="Node3D"]
script = ExtResource("1_7mgjm")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7mgjm")

[node name="player" parent="." instance=ExtResource("2_nkn70")]
transform = Transform3D(0.42, 0, 0, 0, 0.42, 0, 0, 0, 0.42, 121.05136, 2.9366074, -2.5788784)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, -0.75, -0.5)
navigation_mesh = SubResource("NavigationMesh_nkn70")

[node name="singahehe" parent="NavigationRegion3D" instance=ExtResource("3_7mgjm")]
transform = Transform3D(-6.556708e-08, 0, 1.5, 0, 1.5, 0, -1.5, 0, -6.556708e-08, -10, 2.25, -0.75)
chase_radius = 65.075
attack_radius = 20.0
damage = 30

[node name="hudboss" parent="." instance=ExtResource("5_y183w")]

[node name="stage3-timeline1" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 117, 2, -0.75)
script = ExtResource("7_2t6es")
dialog_path = "res://src/Dialog/stage_3_timeline1.dtl"

[node name="CollisionShape3D" type="CollisionShape3D" parent="stage3-timeline1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 0.5, -0.875)
shape = SubResource("BoxShape3D_mdgyc")
debug_color = Color(17.34272, 0, 13.821272, 0.9843137)

[node name="DungeonBener" parent="." instance=ExtResource("6_mqvkd")]
transform = Transform3D(-1.6872596e-07, 0, 3.86, 0, 3.86, 0, -3.86, 0, -1.6872596e-07, 69.5, 1, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="DungeonBener"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(0.9999991, 0, 2.842171e-14, 0, 0.9999991, 0, -2.842171e-14, 0, 0.9999991, 0.624999, -0.07383439, 7.1250114)
shape = SubResource("BoxShape3D_mqvkd")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(0.9999991, 0, 2.842171e-14, 0, 0.9999991, 0, -2.842171e-14, 0, 0.9999991, 0.5000007, -0.07383439, -15.003858)
shape = SubResource("BoxShape3D_2t6es")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(0.9999991, 0, 2.842171e-14, 0, 0.9999991, 0, -2.842171e-14, 0, 0.9999991, -14.674856, 3.1761625, -15.003835)
shape = SubResource("BoxShape3D_kr611")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(-4.371132e-08, 0, -0.9999991, 0, 0.9999991, 0, 0.9999991, 0, -4.371132e-08, 0.057007223, 3.1761625, -27.9572)
shape = SubResource("BoxShape3D_u0t5k")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(0.9999991, 0, 2.842171e-14, 0, 0.9999991, 0, -2.842171e-14, 0, 0.9999991, 16.283693, 3.1761625, -15.003831)
shape = SubResource("BoxShape3D_kr611")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(4.893836e-08, 0, -0.99999905, 0, 0.9999991, 0, 0.99999905, 0, 4.893836e-08, 9.622426, 3.1761625, -1.9209251)
shape = SubResource("BoxShape3D_e4kum")

[node name="CollisionShape3D7" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(4.893836e-08, 0, -0.99999905, 0, 0.9999991, 0, 0.99999905, 0, 4.893836e-08, -8.188456, 3.1761625, -1.9209251)
shape = SubResource("BoxShape3D_e4kum")

[node name="CollisionShape3D8" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(0.99999905, 0, 9.264971e-08, 0, 0.9999991, 0, -9.264971e-08, 0, 0.99999905, -1.7856054, 1.5511639, 7.117939)
shape = SubResource("BoxShape3D_td2cg")

[node name="CollisionShape3D9" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(0.99999905, 0, 9.264971e-08, 0, 0.9999991, 0, -9.264971e-08, 0, 0.99999905, 3.0809743, 1.5511639, 7.117939)
shape = SubResource("BoxShape3D_td2cg")

[node name="CollisionShape3D10" type="CollisionShape3D" parent="DungeonBener/StaticBody3D"]
transform = Transform3D(4.8938368e-08, 0, -0.99999905, 0, 0.9999991, 0, 0.99999905, 0, 4.8938368e-08, 0.5809756, 1.5511639, 15.787636)
shape = SubResource("BoxShape3D_mtb5p")
